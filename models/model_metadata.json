{
  "model_name": "Random Forest Regressor - Klang Valley Property Valuation",
  "model_version": "1.0",
  "model_type": "RandomForestRegressor",
  "framework": "scikit-learn",
  "export_timestamp": "2025-11-17T06:44:49.098414Z",
  "training_data": {
    "total_samples": 66606,
    "n_features": 279,
    "target_variable": "price_m2",
    "target_transformation": "log1p",
    "date_range": "Pre-2025 (2023-2024)",
    "geographic_scope": "Klang Valley, Malaysia",
    "data_source": "National Property Information Centre (NAPIC) Malaysia"
  },
  "test_data": {
    "temporal_holdout_samples": 2071,
    "test_date_range": "2025 Q1",
    "validation_strategy": "Strict temporal split (train on pre-2025, test on 2025)"
  },
  "hyperparameters": {
    "n_estimators": 100,
    "max_depth": null,
    "min_samples_split": 2,
    "min_samples_leaf": 1,
    "max_features": "1.0",
    "bootstrap": true,
    "random_state": 42,
    "n_jobs": -1,
    "verbose": 0,
    "optimization_method": "GridSearchCV with 10-fold cross-validation"
  },
  "performance_metrics": {
    "temporal_validation_2025": {
      "train_log_r2": 0.9883580028079432,
      "cv_log_r2": 0.9539621418231038,
      "test_log_r2": 0.9510397239616425,
      "train_log_rmse": 0.11263264581298794,
      "cv_log_rmse": 0.22397366373991007,
      "test_log_rmse": 0.23208072395893792,
      "train_log_mae": 0.06898764256194348,
      "cv_log_mae": 0.14380036681074732,
      "test_log_mae": 0.1522178009721806,
      "train_orig_r2": 0.9904020991750007,
      "test_orig_r2": 0.9658234124217747,
      "train_orig_rmse": 2187.1103943029257,
      "test_orig_rmse": 3905.1566454153035,
      "train_orig_mae": 611.740951344129,
      "test_orig_mae": 1509.5801578072387,
      "train_orig_mape": 12.478823129116224,
      "test_orig_mape": 16.321863531822757,
      "note": "Metrics from 2025 temporal holdout validation"
    },
    "inference_speed": {
      "single_prediction_seconds": 0.02,
      "batch_2k_properties_seconds": 4.2,
      "throughput_predictions_per_second": 476
    }
  },
  "feature_categories": {
    "continuous_geospatial": {
      "count": 22,
      "examples": [
        "property_m2",
        "unit_level",
        "walk_dist_to_mall",
        "walk_dist_to_school",
        "walk_dist_to_park",
        "walk_dist_to_river",
        "walk_dist_to_lake",
        "walk_dist_to_rail_station",
        "dist_to_mall",
        "dist_to_school",
        "dist_to_park",
        "dist_to_river",
        "dist_to_lake",
        "dist_to_rail_station",
        "mall_count",
        "school_count",
        "park_count",
        "river_count",
        "lake_count",
        "rail_station_count",
        "incoming_ridership_within_1km",
        "outgoing_ridership_within_1km"
      ]
    },
    "property_type_dummies": {
      "count": 11,
      "examples": [
        "property_type_1 - 1 1/2 storey terraced",
        "property_type_2 - 2 1/2 storey semi-detached",
        "property_type_2 - 2 1/2 storey terraced",
        "property_type_cluster house",
        "property_type_condominium/apartment",
        "property_type_detached",
        "property_type_flat",
        "property_type_low-cost flat",
        "property_type_low-cost house",
        "property_type_town house"
      ]
    },
    "district_dummies": {
      "count": 11,
      "examples": [
        "district_hulu langat",
        "district_hulu selangor",
        "district_klang",
        "district_kuala langat",
        "district_kuala lumpur",
        "district_kuala selangor",
        "district_petaling",
        "district_putrajaya",
        "district_sabak bernam",
        "district_sepang"
      ]
    },
    "market_cluster_dummies": {
      "count": 238,
      "note": "Spatial clusters consolidating 18,000+ unique road names into 238 market segments using DBSCAN/K-Means clustering",
      "cluster_prefixes": {
        "GO": "Gombak district clusters",
        "HU": "Hulu Langat/Hulu Selangor clusters",
        "KL": "Kuala Lumpur central clusters",
        "KU": "Kuala Langat/Kuala Selangor clusters",
        "PE": "Petaling district clusters",
        "PU": "Putrajaya clusters",
        "SA": "Sabak Bernam clusters",
        "SE": "Sepang clusters",
        "NOISE": "Outlier properties not assigned to spatial clusters"
      }
    }
  },
  "feature_names": [
    "distance__walk_dist_to_mall",
    "distance__walk_dist_to_school",
    "distance__walk_dist_to_park",
    "distance__walk_dist_to_river",
    "distance__walk_dist_to_lake",
    "distance__walk_dist_to_rail_station",
    "distance__dist_to_mall",
    "distance__dist_to_school",
    "distance__dist_to_park",
    "distance__dist_to_river",
    "distance__dist_to_lake",
    "distance__dist_to_rail_station",
    "counts__mall_count",
    "counts__school_count",
    "counts__park_count",
    "counts__river_count",
    "counts__lake_count",
    "counts__rail_station_count",
    "property__property_m2",
    "property__unit_level",
    "ridership__incoming_ridership_within_1km",
    "ridership__outgoing_ridership_within_1km",
    "property_type_1 - 1 1/2 storey terraced",
    "property_type_2 - 2 1/2 storey semi-detached",
    "property_type_2 - 2 1/2 storey terraced",
    "property_type_cluster house",
    "property_type_condominium/apartment",
    "property_type_detached",
    "property_type_flat",
    "property_type_low-cost flat",
    "property_type_low-cost house",
    "property_type_town house",
    "market_cluster_id_GO_001",
    "market_cluster_id_GO_002",
    "market_cluster_id_GO_003",
    "market_cluster_id_GO_004",
    "market_cluster_id_GO_005",
    "market_cluster_id_GO_006",
    "market_cluster_id_GO_007",
    "market_cluster_id_GO_008",
    "market_cluster_id_GO_009",
    "market_cluster_id_HU_010",
    "market_cluster_id_HU_011",
    "market_cluster_id_HU_012",
    "market_cluster_id_HU_013",
    "market_cluster_id_HU_014",
    "market_cluster_id_HU_015",
    "market_cluster_id_HU_016",
    "market_cluster_id_HU_020",
    "market_cluster_id_HU_021",
    "market_cluster_id_HU_022",
    "market_cluster_id_HU_023",
    "market_cluster_id_HU_024",
    "market_cluster_id_HU_025",
    "market_cluster_id_HU_026",
    "market_cluster_id_HU_027",
    "market_cluster_id_HU_028",
    "market_cluster_id_HU_029",
    "market_cluster_id_HU_030",
    "market_cluster_id_HU_031",
    "market_cluster_id_HU_032",
    "market_cluster_id_HU_033",
    "market_cluster_id_HU_034",
    "market_cluster_id_HU_035",
    "market_cluster_id_HU_036",
    "market_cluster_id_HU_037",
    "market_cluster_id_HU_038",
    "market_cluster_id_HU_039",
    "market_cluster_id_HU_040",
    "market_cluster_id_HU_041",
    "market_cluster_id_HU_042",
    "market_cluster_id_HU_043",
    "market_cluster_id_HU_044",
    "market_cluster_id_HU_045",
    "market_cluster_id_HU_046",
    "market_cluster_id_HU_047",
    "market_cluster_id_HU_048",
    "market_cluster_id_HU_049",
    "market_cluster_id_HU_050",
    "market_cluster_id_HU_051",
    "market_cluster_id_HU_052",
    "market_cluster_id_HU_053",
    "market_cluster_id_KL_017",
    "market_cluster_id_KL_018",
    "market_cluster_id_KL_019",
    "market_cluster_id_KL_020",
    "market_cluster_id_KL_021",
    "market_cluster_id_KL_022",
    "market_cluster_id_KL_023",
    "market_cluster_id_KL_024",
    "market_cluster_id_KL_025",
    "market_cluster_id_KL_026",
    "market_cluster_id_KL_027",
    "market_cluster_id_KL_054",
    "market_cluster_id_KL_055",
    "market_cluster_id_KL_056",
    "market_cluster_id_KL_057",
    "market_cluster_id_KL_058",
    "market_cluster_id_KL_059",
    "market_cluster_id_KL_060",
    "market_cluster_id_KL_061",
    "market_cluster_id_KL_062",
    "market_cluster_id_KL_063",
    "market_cluster_id_KL_064",
    "market_cluster_id_KL_065",
    "market_cluster_id_KL_066",
    "market_cluster_id_KL_067",
    "market_cluster_id_KL_068",
    "market_cluster_id_KL_069",
    "market_cluster_id_KL_070",
    "market_cluster_id_KL_071",
    "market_cluster_id_KL_072",
    "market_cluster_id_KU_006",
    "market_cluster_id_KU_007",
    "market_cluster_id_KU_008",
    "market_cluster_id_KU_009",
    "market_cluster_id_KU_010",
    "market_cluster_id_KU_011",
    "market_cluster_id_KU_012",
    "market_cluster_id_KU_028",
    "market_cluster_id_KU_029",
    "market_cluster_id_KU_030",
    "market_cluster_id_KU_031",
    "market_cluster_id_KU_032",
    "market_cluster_id_KU_033",
    "market_cluster_id_KU_034",
    "market_cluster_id_KU_035",
    "market_cluster_id_KU_036",
    "market_cluster_id_KU_037",
    "market_cluster_id_KU_038",
    "market_cluster_id_KU_039",
    "market_cluster_id_KU_040",
    "market_cluster_id_KU_041",
    "market_cluster_id_KU_042",
    "market_cluster_id_KU_043",
    "market_cluster_id_KU_044",
    "market_cluster_id_KU_045",
    "market_cluster_id_KU_046",
    "market_cluster_id_KU_047",
    "market_cluster_id_KU_048",
    "market_cluster_id_KU_073",
    "market_cluster_id_KU_074",
    "market_cluster_id_KU_075",
    "market_cluster_id_KU_076",
    "market_cluster_id_KU_077",
    "market_cluster_id_KU_078",
    "market_cluster_id_KU_079",
    "market_cluster_id_KU_080",
    "market_cluster_id_KU_081",
    "market_cluster_id_KU_115",
    "market_cluster_id_KU_116",
    "market_cluster_id_KU_117",
    "market_cluster_id_KU_118",
    "market_cluster_id_KU_119",
    "market_cluster_id_KU_120",
    "market_cluster_id_KU_121",
    "market_cluster_id_KU_122",
    "market_cluster_id_KU_123",
    "market_cluster_id_KU_124",
    "market_cluster_id_KU_125",
    "market_cluster_id_KU_126",
    "market_cluster_id_KU_127",
    "market_cluster_id_KU_128",
    "market_cluster_id_KU_129",
    "market_cluster_id_KU_130",
    "market_cluster_id_KU_131",
    "market_cluster_id_KU_132",
    "market_cluster_id_KU_133",
    "market_cluster_id_NOISE",
    "market_cluster_id_PE_013",
    "market_cluster_id_PE_014",
    "market_cluster_id_PE_015",
    "market_cluster_id_PE_016",
    "market_cluster_id_PE_017",
    "market_cluster_id_PE_018",
    "market_cluster_id_PE_019",
    "market_cluster_id_PE_061",
    "market_cluster_id_PE_062",
    "market_cluster_id_PE_063",
    "market_cluster_id_PE_064",
    "market_cluster_id_PE_065",
    "market_cluster_id_PE_066",
    "market_cluster_id_PE_067",
    "market_cluster_id_PE_068",
    "market_cluster_id_PE_069",
    "market_cluster_id_PE_070",
    "market_cluster_id_PE_071",
    "market_cluster_id_PE_072",
    "market_cluster_id_PE_073",
    "market_cluster_id_PE_074",
    "market_cluster_id_PE_075",
    "market_cluster_id_PE_076",
    "market_cluster_id_PE_077",
    "market_cluster_id_PE_078",
    "market_cluster_id_PE_079",
    "market_cluster_id_PU_080",
    "market_cluster_id_PU_081",
    "market_cluster_id_PU_082",
    "market_cluster_id_PU_083",
    "market_cluster_id_PU_084",
    "market_cluster_id_PU_085",
    "market_cluster_id_PU_086",
    "market_cluster_id_PU_087",
    "market_cluster_id_PU_088",
    "market_cluster_id_PU_089",
    "market_cluster_id_PU_090",
    "market_cluster_id_PU_091",
    "market_cluster_id_PU_092",
    "market_cluster_id_PU_094",
    "market_cluster_id_PU_095",
    "market_cluster_id_PU_096",
    "market_cluster_id_PU_097",
    "market_cluster_id_PU_098",
    "market_cluster_id_PU_134",
    "market_cluster_id_PU_135",
    "market_cluster_id_PU_136",
    "market_cluster_id_PU_138",
    "market_cluster_id_PU_139",
    "market_cluster_id_PU_140",
    "market_cluster_id_PU_141",
    "market_cluster_id_PU_142",
    "market_cluster_id_PU_143",
    "market_cluster_id_SA_082",
    "market_cluster_id_SA_083",
    "market_cluster_id_SA_084",
    "market_cluster_id_SA_085",
    "market_cluster_id_SA_086",
    "market_cluster_id_SA_087",
    "market_cluster_id_SA_088",
    "market_cluster_id_SA_089",
    "market_cluster_id_SA_090",
    "market_cluster_id_SA_091",
    "market_cluster_id_SA_092",
    "market_cluster_id_SA_093",
    "market_cluster_id_SA_094",
    "market_cluster_id_SA_095",
    "market_cluster_id_SE_049",
    "market_cluster_id_SE_050",
    "market_cluster_id_SE_051",
    "market_cluster_id_SE_052",
    "market_cluster_id_SE_053",
    "market_cluster_id_SE_054",
    "market_cluster_id_SE_055",
    "market_cluster_id_SE_056",
    "market_cluster_id_SE_057",
    "market_cluster_id_SE_058",
    "market_cluster_id_SE_059",
    "market_cluster_id_SE_060",
    "market_cluster_id_SE_096",
    "market_cluster_id_SE_097",
    "market_cluster_id_SE_098",
    "market_cluster_id_SE_099",
    "market_cluster_id_SE_100",
    "market_cluster_id_SE_101",
    "market_cluster_id_SE_102",
    "market_cluster_id_SE_103",
    "market_cluster_id_SE_104",
    "market_cluster_id_SE_105",
    "market_cluster_id_SE_106",
    "market_cluster_id_SE_107",
    "market_cluster_id_SE_108",
    "market_cluster_id_SE_109",
    "market_cluster_id_SE_110",
    "market_cluster_id_SE_111",
    "market_cluster_id_SE_112",
    "market_cluster_id_SE_113",
    "market_cluster_id_SE_114",
    "freehold_1",
    "transit_1",
    "district_hulu langat",
    "district_hulu selangor",
    "district_klang",
    "district_kuala langat",
    "district_kuala lumpur",
    "district_kuala selangor",
    "district_petaling",
    "district_putrajaya",
    "district_sabak bernam",
    "district_sepang"
  ],
  "preprocessing": {
    "scaling": {
      "method": "StandardScaler",
      "fitted_on": "66606 pre-2025 training samples",
      "file": "scaler_pre2025.pkl",
      "note": "All continuous features scaled to mean=0, std=1"
    },
    "target_transformation": {
      "method": "log1p (natural log of (price_m2 + 1))",
      "reason": "Handle right-skewed price distribution and reduce impact of luxury outliers",
      "inverse_transform": "expm1 (exp(log_price) - 1)"
    },
    "categorical_encoding": {
      "method": "One-hot encoding",
      "categories": {
        "property_type": 11,
        "district": 11,
        "market_cluster_id": 238
      }
    }
  },
  "limitations": {
    "geographic_scope": "Model trained exclusively on Klang Valley properties. Do not use for other Malaysian regions (Penang, Johor, etc.)",
    "temporal_drift": "Trained on 2023-2024 data. Annual retraining recommended to capture evolving market conditions."
  },
  "deployment_notes": {
    "environment": "Python 3.9+, scikit-learn 1.3.0+, pandas, numpy",
    "error_handling": "Model does not handle NaN values - impute missing data before prediction",
    "scaling_requirement": "MUST apply scaler_pre2025.pkl to all continuous features before prediction",
    "output_format": "Predictions in log-space - apply np.expm1() to convert to RM/m\u00b2"
  },
  "alternative_models_evaluated": {
    "XGBoost": {
      "model_type": "XGBRegressor",
      "test_r2": 0.92,
      "test_mape": 19.94,
      "status": "Strong performer but slightly lower R\u00b2 than Random Forest"
    },
    "LightGBM": {
      "model_type": "LGBMRegressor",
      "test_r2": 0.91,
      "test_mape": 21.03,
      "status": "Good performance, faster training than XGBoost"
    },
    "Decision Tree": {
      "model_type": "DecisionTreeRegressor",
      "test_r2": 0.96,
      "test_mape": 19.89,
      "status": "High R\u00b2 but prone to overfitting (Train R\u00b2 = 0.99)"
    },
    "KNeighbors": {
      "model_type": "KNeighborsRegressor",
      "test_r2": 0.94,
      "test_mape": 20.22,
      "status": "Competitive but slower inference on large datasets"
    },
    "Gradient Boosting": {
      "model_type": "GradientBoostingRegressor",
      "test_r2": 0.86,
      "test_mape": 24.56,
      "status": "Lower performance, longer training time"
    },
    "Ridge": {
      "model_type": "Ridge",
      "test_r2": 0.67,
      "test_mape": 36.03,
      "status": "Linear assumptions fail for non-linear location effects"
    }
  },
  "citation": {
    "author": "Phan, Anh Duc Duy",
    "title": "Klang Valley Property Price Prediction: Geospatial Machine Learning Model",
    "year": 2025,
    "publisher": "GitHub",
    "url": "https://github.com/anhpdd/ml-property-valuation-klang-valley"
  }
}